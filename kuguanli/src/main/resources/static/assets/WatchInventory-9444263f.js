import{B as p}from"./BgContainer-d59c353d.js";import{g as h}from"./warehouse-2c8e7b55.js";import{j as _,_ as f,r as o,o as w,b,w as n,a as t}from"./index-402981fb.js";import{D as v}from"./DataSelector-f21db79c.js";function y(e){return _({method:"GET",url:"/inventory",params:e})}const I={components:{BgContainer:p,DataSelector:v},data(){return{selectedWarehouseId:0,warehouseData:[],inventory:[]}},watch:{selectedWarehouseId(e){y({warehouse_id:e}).then(r=>this.inventory=r.data.data)}},computed:{filteredInventory(){return this.selectedWarehouse?this.inventory.filter(e=>e.warehouseId===this.selectedWarehouse):[]}},created(){h().then(e=>{this.warehouseData=e.data.data,this.selectedWarehouseId=this.warehouseData[0].warehouse_id})}};function W(e,r,D,g,a,B){const l=o("DataSelector"),d=o("el-form-item"),s=o("el-table-column"),c=o("el-table"),u=o("el-form"),i=o("BgContainer");return w(),b(i,null,{default:n(()=>[t(u,{model:e.form,ref:"form",rules:e.rules,"label-width":"80px",inline:!1,size:"normal"},{default:n(()=>[t(d,{label:"选择仓库"},{default:n(()=>[t(l,{selected:a.selectedWarehouseId,"onUpdate:selected":r[0]||(r[0]=m=>a.selectedWarehouseId=m),data:a.warehouseData,placeholder:"请选择或搜索仓库"},null,8,["selected","data"])]),_:1}),t(c,{data:a.inventory,style:{"margin-top":"20px"}},{default:n(()=>[t(s,{prop:"productId",label:"商品id"}),t(s,{prop:"productName",label:"商品名称"}),t(s,{prop:"inventory",label:"库存数量"})]),_:1},8,["data"])]),_:1},8,["model","rules"])]),_:1})}const A=f(I,[["render",W]]);export{A as default};
